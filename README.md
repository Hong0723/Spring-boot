 # Spring-boot
 
 # 12강 요약
 **● 서비스**
 
 컨트롤러와 리파지터리 사이에 위치하는 계층으로 서버의 핵심 기능(비지니스 로직)을 처리하는 순서를 총괄함
 
 ex) 손님(클라이언트)가 음식 주문 >> 웨이터(컨트롤러)가 받아 주방장(서비스)에게 전달, 요리에 필요한 재료(데이터)는 보조요리사(리파지터리)가 창고(DB) 에서 가져옴
 
 **● 트랜잭션**
 
 일반적으로 서비스 업무 처리는 트랜잭션 단위로 진행되는데 트랜잭션이란 모두 성공해야 하는 일련의 과정을 뜻함.
 
 ex) 식당 예약을 하는데 1번부터 6번의 과정이 있는데 3번에서 실패했다면 앞의 진행된 기록들은 전부 삭제되어야함

**● 롤백** 

트랜잭션이 실패로 돌아가 진행 초기 단계로 돌리는것

**● 컨트롤러의 역할** 

클라이언트의 요청받기와 클라이언트에 응답

**● 서비스의 역할**

레 파지터리에 데이터 가져오도록 명령

# 13강 요약
**● 테스트** 

프로그램의 품질을 검증하는 것, 의도대로 프로그램이 잘 동작하는지 확인하는 과정

**->** 테스트 코드를 작성해 실행한다는 말 (3단계로 작성)

**->** 1. 예상 데이터 작성하기

2. 실제 데이터 획득하기

3. 예상 데이터와 실제 데이터 비교해 검증하기

# 14강 요약

**● 대표키**

article 테이블이든 comment 테이블이든 자신을 대표하는 id가 있는데 id와 같이 자신을 대표하는 속성
대표키는 동일 테이블 내에서 중복된 값이 없어야 함

comment 테이블에는 article_id가 하나 더 있는데 이것을 **외래키**라고 함

외래키를 따라가면 해당댓글이 어떤 게시글에 달렸는지 알 수 있음

-> article_id 가 4번이면 4번 게시물의 댓글임

3장에서 배운 **JPA(Java Persistence API)**는 자바로 DB에 명령을 내리게 하는 도구로, 데이터를 객체 지향적으로 다루는 기술임

**● 엔티티**

DB 데이터를 담는 자바 객체로, 엔티티를 기반으로 테이블 생성

(얘를 생성하면 데이터 베이스에 테이블이 생성됨)

**@Column**

JPA에서 엔티티 클래스의 필드를 데이터베이스의 컬럼과 연결할때 사용

**● 리파지터리**

엔티티를 관리하는 인터페이스로, 데이터 CRUD 등의 기능 제공

JPA에서 단순히 CURD 작업만 하면 crudRepository를 사용해도 충분하지만, 페이지 처리와 정렬 작업까지 해야한다면 JpaRepository를 사용하는게 좋음

그동안 쿼리는 sql 문서나 DB 콘솔에서 직접 작성하고 실행했음, but 쿼리를 메소드로도 가능??

**->** 대답은 **가능하다**임 이러한 메소드를 **네이티브 쿼리 메소드** 라고 함

**네이티브 쿼리 메소드**는 직접 작성한 SQL 쿼리를 리파지터리 메소드로 실행 할 수 있게 해줌

만드는 방법은 **@Query 어노테이션** or **orm.xml파일** 이용







